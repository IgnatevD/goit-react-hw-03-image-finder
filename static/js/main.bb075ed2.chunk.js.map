{"version":3,"sources":["Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","Api/Api.js","Components/ImageGallery/ImageGallery.jsx","Components/Searchbar/Searchbar.jsx","Components/App.jsx","index.js"],"names":["Button","newPage","type","className","onClick","modalRoot","document","querySelector","Modal","state","closeModalFn","e","code","props","onClose","closeModalBd","target","currentTarget","window","addEventListener","this","removeEventListener","createPortal","src","largeImageURL","alt","Component","ImageGalleryItem","showModal","toggleModal","setState","previewURL","name","pixAPI","fetchPixabay","nextName","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","pixabay","loding","error","status","pixabays","hits","newImg","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","prevProps","prevState","pixabayName","massage","map","img","tags","id","length","Searchbar","searcName","getNameChange","value","toLowerCase","getSubmitForm","preventDefault","trim","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","onGetSubmit","onSubmit","onChange","autoComplete","autoFocus","placeholder","App","getFormSubmit","searcNameForm","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bb075ed2.chunk.js","sourcesContent":["const Button = ({ newPage }) => {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={newPage}>\n      Загрузить еще\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal\");\n\nclass Modal extends Component {\n  state = {};\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.closeModalFn);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.closeModalFn);\n  }\n\n  closeModalFn = (e) => {\n    if (e.code === \"Escape\") this.props.onClose();\n  };\n\n  closeModalBd = (e) => {\n    if (e.target === e.currentTarget) this.props.onClose();\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.closeModalBd}>\n        <div className=\"Modal\">\n          <img src={this.props.largeImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport Modal from \"../../Modal/Modal\";\n\nclass ImageGalleryItem extends Component {\n  state = { showModal: false };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  render() {\n    const { previewURL, largeImageURL, name } = this.props;\n\n    return (\n      <li className=\"ImageGalleryItem\">\n        <img\n          src={previewURL}\n          alt={name}\n          className=\"ImageGalleryItem-image\"\n          onClick={this.toggleModal}\n        />\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal} largeImageURL={largeImageURL} />\n        )}\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","function fetchPixabay(nextName, page) {\n  const API = \"22732940-a59bc7fc166a5b76f0ac36f93\";\n\n  return fetch(`https://pixabay.com/api/?q=${nextName}&page=${page}&key=${API}&image_type=photo&orientation=horizontal&per_page=12\n          `).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`Нет изображений с таким именем ${nextName}`)\n    );\n  });\n}\nconst pixAPI = { fetchPixabay };\nexport default pixAPI;\n","import React, { Component } from \"react\";\nimport Button from \"../Button/Button\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\nimport pixAPI from \"../../Api/Api\";\n\nclass ImageGallery extends Component {\n  state = {\n    pixabay: null,\n    loding: false,\n    error: null,\n    page: 1,\n    status: \"idle\",\n    name: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextName = this.props.pixabayName;\n\n    if (prevProps.pixabayName !== nextName) {\n      const page = this.state.page;\n      this.setState({ status: \"panding\" });\n      this.setState({ name: nextName });\n\n      pixAPI\n        .fetchPixabay(nextName, page)\n        .then((pixabays) => pixabays.hits)\n        .then((pixabay) =>\n          this.setState({\n            pixabay,\n            status: \"resolved\",\n            page: this.state.page + 1,\n          })\n        )\n        .catch((error) => {\n          this.setState({ error, status: \"rejected\" });\n        })\n        .finally(() => this.setState({ loding: false }));\n    }\n  }\n\n  newPage = () => {\n    const { pixabay, name, page } = this.state;\n    pixAPI\n      .fetchPixabay(name, page)\n      .then((pixabays) => pixabays.hits)\n      .then((newImg) => {\n        this.setState({\n          pixabay: [...pixabay, ...newImg],\n          status: \"resolved\",\n          page: this.state.page + 1,\n        });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => {\n        this.setState({ error, status: \"rejected\" });\n      })\n      .finally(() => this.setState({ loding: false }));\n  };\n\n  render() {\n    const { pixabay, error, status } = this.state;\n\n    if (status === \"idle\") {\n      return <h2 className=\"title\">Введите запрос для поиска изображений</h2>;\n    }\n\n    if (status === \"panding\") {\n      return <h2 className=\"titleLoding\">Загружаем изображения...</h2>;\n    }\n\n    if (status === \"rejected\") {\n      return <h2>{error.massage}</h2>;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <div className=\"conteinerImageGallery\">\n          <ul className=\"ImageGallery\">\n            {pixabay.map((img) => (\n              <ImageGalleryItem\n                key={img.id}\n                previewURL={img.previewURL}\n                largeImageURL={img.largeImageURL}\n                name={img.tags}\n              />\n            ))}\n          </ul>\n          {pixabay.length && <Button newPage={this.newPage} />}\n          {!pixabay.length && (\n            <div>\n              Нет изображений по данном запросу {this.props.pixabayName}\n            </div>\n          )}\n        </div>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\n\nclass Searchbar extends Component {\n  state = { searcName: \"\" };\n  getNameChange = (e) => {\n    this.setState({ searcName: e.currentTarget.value.toLowerCase() });\n  };\n\n  getSubmitForm = (e) => {\n    e.preventDefault();\n    if (this.state.searcName.trim() === \"\") {\n      return toast.error(\"Введите слово для поиска\", {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n    }\n    this.props.onGetSubmit(this.state.searcName);\n    this.setState({ searcName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.getSubmitForm}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.searcName}\n            onChange={this.getNameChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\n// import Modal from \"./Modal/Modal\";\nimport Searchbar from \"./Searchbar/Searchbar\";\n\nclass App extends Component {\n  state = {\n    pixabayName: \"\",\n  };\n\n  getFormSubmit = (searcNameForm) => {\n    this.setState({ pixabayName: searcNameForm });\n  };\n\n  render() {\n    const { pixabayName } = this.state;\n    return (\n      <>\n        <Searchbar onGetSubmit={this.getFormSubmit} />\n        <ImageGallery pixabayName={pixabayName} />\n        <ToastContainer />\n        {/* <Loader/> */}\n\n        {/* <Modal/> */}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\n"],"sourceRoot":""}